<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>mcsim • mcbrnet</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="mcsim">
<meta property="og:description" content="mcbrnet">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mcbrnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/brnet.html">brnet</a>
    </li>
    <li>
      <a href="../articles/ggbrnet.html">ggbrnet</a>
    </li>
    <li>
      <a href="../articles/igpsim.html">igpsim</a>
    </li>
    <li>
      <a href="../articles/mcsim.html">mcsim</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/aterui/mcbrnet/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>mcsim</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/aterui/mcbrnet/blob/HEAD/../../github/mcbrnet/vignettes/mcsim.Rmd" class="external-link"><code>../../github/mcbrnet/vignettes/mcsim.Rmd</code></a></small>
      <div class="hidden name"><code>mcsim.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p><code><a href="../reference/mcsim.html">mcsim()</a></code> simulates metacommunity dynamics in a given
landscape. Community dynamics are modeled based on the Beverton-Holt
function. Although this function is designed to be compatible with
<code><a href="../reference/brnet.html">brnet()</a></code>, users can provide their distance matrix to
simulate dynamics in any landscape. The key arguments are the number of
habitat patches (<code>n_patch</code>) and the number of species in a
metacommunity (<code>n_species</code>). Metacommunity dynamics are
simulated through (1) local dynamics (population growth and competition
among species), (2) immigration, and (3) emigration.</p>
<p>The function returns:</p>
<ul>
<li>
<p><code>df_dynamics</code> data frame containing simulated
metacommunity dynamics*.</p>
<ul>
<li>
<em>timestep</em>: time-step.</li>
<li>
<em>patch_id</em>: patch ID.</li>
<li>
<em>mean_env</em>: mean environmental condition at each patch.</li>
<li>
<em>env</em>: environmental condition at patch x and time-step
t.</li>
<li>
<em>carrying_capacity</em>: carrying capacity at each patch.</li>
<li>
<em>species</em>: species ID.</li>
<li>
<em>niche_optim</em>: optimal environmental value for species
i.</li>
<li>
<em>r_xt</em>: reproductive number of species i at patch x and
time-step t.</li>
<li>
<em>abundance</em>: abundance of species i at patch x.</li>
</ul>
</li>
<li>
<p><code>df_species</code> data frame containing species
attributes.</p>
<ul>
<li>
<em>species</em>: species ID.</li>
<li>
<em>mean_abundance</em>: mean abundance (arithmetic) of species i
across sites and time-steps.</li>
<li>
<em>r0</em>: maximum reproductive number of species i.</li>
<li>
<em>niche_optim</em>: optimal environmental value for species
i.</li>
<li>
<em>sd_niche_width</em>: niche width for species i.</li>
<li>
<em>p_dispersal</em>: dispersal probability of species i.</li>
</ul>
</li>
<li>
<p><code>df_patch</code> data frame containing patch attributes.</p>
<ul>
<li>
<em>patch</em>: patch ID.</li>
<li>
<em>alpha_div</em>: alpha diversity averaged across time-steps.</li>
<li>
<em>mean_env</em>: mean environmental condition at each patch.</li>
<li>
<em>carrying_capacity</em>: carrying capacity at each patch.</li>
<li>
<em>disturbance</em>: disturbance-induced mortality at each
patch.</li>
</ul>
</li>
<li><p><code>df_diversity</code> data frame containing diversity metrics
(α, β, and γ).</p></li>
<li><p><code>distance_matrix</code> distance matrix used in the
simulation.</p></li>
<li><p><code>interaction_matrix</code> species interaction matrix, in
which species X (column) influences species Y (row).</p></li>
</ul>
<p>*NOTE: The warm-up and burn-in periods will not be included in return
values.</p>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>The following script simulates metacommunity dynamics with
<code>n_patch = 5</code> and <code>n_species = 5</code>. By default,
<code><a href="../reference/mcsim.html">mcsim()</a></code> simulates metacommunity dynamics with 200 warm-up
(initialization with species introductions: <code>n_warmup</code>), 200
burn-in (burn-in period with no species introductions:
<code>n_burnin</code>), and 1000 time-steps for records
(<code>n_timestep</code>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mcsim.html">mcsim</a></span><span class="op">(</span>n_patch <span class="op">=</span> <span class="fl">5</span>, n_species <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<p>Users can visualize the simulated dynamics using
<code>plot = TRUE</code>, which will show five sample patches and
species that are randomly chosen:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mcsim.html">mcsim</a></span><span class="op">(</span>n_patch <span class="op">=</span> <span class="fl">5</span>, n_species <span class="op">=</span> <span class="fl">5</span>, plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="mcsim_files/figure-html/unnamed-chunk-3-1.png" width="1056"></p>
<p>A named list of return values:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mc</span>
<span class="co">#&gt; $df_dynamics</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 25,000 x 9</span></span>
<span class="co">#&gt;    timestep patch_id mean_env    env carrying_capacity species niche_optim</span>
<span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>        1        1        0 0.031<span style="text-decoration: underline;">4</span>               100       1       0.526</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>        1        1        0 0.031<span style="text-decoration: underline;">4</span>               100       2       0.437</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>        1        1        0 0.031<span style="text-decoration: underline;">4</span>               100       3       0.158</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>        1        1        0 0.031<span style="text-decoration: underline;">4</span>               100       4      -<span style="color: #BB0000;">0.142</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>        1        1        0 0.031<span style="text-decoration: underline;">4</span>               100       5      -<span style="color: #BB0000;">0.262</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>        1        2        0 0.149                100       1       0.526</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>        1        2        0 0.149                100       2       0.437</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>        1        2        0 0.149                100       3       0.158</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>        1        2        0 0.149                100       4      -<span style="color: #BB0000;">0.142</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>        1        2        0 0.149                100       5      -<span style="color: #BB0000;">0.262</span></span>
<span class="co">#&gt; <span style="color: #949494;"># ... with 24,990 more rows, and 2 more variables: r_xt &lt;dbl&gt;, abundance &lt;dbl&gt;</span></span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $df_species</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 x 6</span></span>
<span class="co">#&gt;   species mean_abundance    r0 niche_optim sd_niche_width p_dispersal</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>       1           39.3     4       0.526          0.573         0.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>       2            0       4       0.437          0.112         0.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       3           76.6     4       0.158          0.475         0.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       4           48.1     4      -<span style="color: #BB0000;">0.142</span>          0.964         0.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       5           50.0     4      -<span style="color: #BB0000;">0.262</span>          0.915         0.1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $df_patch</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 x 5</span></span>
<span class="co">#&gt;   patch_id alpha_div mean_env carrying_capacity disturbance</span>
<span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        1         4        0               100           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        2         4        0               100           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>        3         4        0               100           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>        4         4        0               100           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>        5         4        0               100           0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $df_diversity</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 x 3</span></span>
<span class="co">#&gt;   alpha_div beta_div gamma_div</span>
<span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>         4        1         4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $df_xy_coord</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 x 2</span></span>
<span class="co">#&gt;   x_coord y_coord</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>   8.12     3.53</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>   1.67     1.18</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>   0.123    3.74</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span>   2.97     1.28</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span>   8.88     6.15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $distance_matrix</span>
<span class="co">#&gt;          1        2        3        4        5</span>
<span class="co">#&gt; 1 0.000000 6.867894 8.001105 5.616935 2.735859</span>
<span class="co">#&gt; 2 6.867894 0.000000 2.989704 1.309113 8.762926</span>
<span class="co">#&gt; 3 8.001105 2.989704 0.000000 3.761916 9.084224</span>
<span class="co">#&gt; 4 5.616935 1.309113 3.761916 0.000000 7.658076</span>
<span class="co">#&gt; 5 2.735859 8.762926 9.084224 7.658076 0.000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $interaction_matrix</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    0    0    0    0</span>
<span class="co">#&gt; [2,]    0    1    0    0    0</span>
<span class="co">#&gt; [3,]    0    0    1    0    0</span>
<span class="co">#&gt; [4,]    0    0    0    1    0</span>
<span class="co">#&gt; [5,]    0    0    0    0    1</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="customize-brnet-mcsim">Customize: <code>brnet()</code> + <code>mcsim()</code><a class="anchor" aria-label="anchor" href="#customize-brnet-mcsim"></a>
</h2>
<p>Return values of <code><a href="../reference/brnet.html">brnet()</a></code> are compatible with
<code><a href="../reference/mcsim.html">mcsim()</a></code>. For example, <code>df_patch$environment</code>,
<code>df_patch$n_patch_upstream</code>, and
<code>df_patch$distance_matrix</code> may be used to inform parameters
of <code><a href="../reference/mcsim.html">mcsim()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">patch</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brnet.html">brnet</a></span><span class="op">(</span>n_patch <span class="op">=</span> <span class="va">patch</span>, p_branch <span class="op">=</span> <span class="fl">0.5</span>, plot <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="va">mc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mcsim.html">mcsim</a></span><span class="op">(</span>n_patch <span class="op">=</span> <span class="va">patch</span>, n_species <span class="op">=</span> <span class="fl">5</span>,
            mean_env <span class="op">=</span> <span class="va">net</span><span class="op">$</span><span class="va">df_patch</span><span class="op">$</span><span class="va">environment</span>,
            carrying_capacity <span class="op">=</span> <span class="va">net</span><span class="op">$</span><span class="va">df_patch</span><span class="op">$</span><span class="va">n_patch_upstream</span><span class="op">*</span><span class="fl">10</span>,
            distance_matrix <span class="op">=</span> <span class="va">net</span><span class="op">$</span><span class="va">distance_matrix</span>,
            plot <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p><img src="mcsim_files/figure-html/unnamed-chunk-5-1.png" width="1056"></p>
</div>
<div class="section level2">
<h2 id="customize-detailed-parameters">Customize: detailed parameters<a class="anchor" aria-label="anchor" href="#customize-detailed-parameters"></a>
</h2>
<p>Users may use the following arguments to custom metacommunity
simulations regarding (1) species attributes, (2) competition, (3) patch
attributes, and (4) landscape structure.</p>
<div class="section level3">
<h3 id="species-attributes">Species attributes<a class="anchor" aria-label="anchor" href="#species-attributes"></a>
</h3>
<p><strong>Arguments:</strong> <code>r0</code>, <code>niche_optim</code>
OR <code>min_optim</code> and <code>max_optim</code>,
<code>sd_niche_width</code> OR <code>min_niche_width</code> and
<code>max_niche_width</code>, <code>niche_cost</code>,
<code>p_dispersal</code> , <code>zeta</code></p>
<p>Species attributes are determined based on the maximum reproductive
rate <code>r0</code>, optimal environmental value
<code>niche_optim</code> (or <code>min_optim</code> and
<code>max_optim</code> for random generation of
<code>niche_optim</code>), niche width <code>sd_niche_width</code> (or
<code>min_niche_width</code> and <code>max_niche_width</code> for random
generation of <code>sd_niche_width</code>) and dispersal probability
<code>p_dispersal</code> (see <strong>Model description</strong> for
details).</p>
<p>For optimal environmental values (niche optimum), the function by
default assigns random values to species as: <span class="math inline">\(\mu_i \sim Unif(\mu_{min}, \mu_{max})\)</span>,
where users can set values of <span class="math inline">\(\mu_{min}\)</span> and <span class="math inline">\(\mu_{max}\)</span> using <code>min_optim</code>
and <code>max_optim</code> arguments (default:
<code>min_optim = -1</code> and <code>max_optim = 1</code>).
Alternatively, users may specify species niche optimums using the
argument <code>niche_optim</code> (scalar or vector). If a single value
or a vector of <code>niche_optim</code> is provided, the function
ignores <code>min_optim</code> and <code>max_optim</code> arguments.</p>
<p>Similarly, the function by default assigns random values of <span class="math inline">\(\sigma_{niche}\)</span> to species as: <span class="math inline">\(\sigma_{niche,i} \sim Unif(\sigma_{niche,min},
\sigma_{niche,max})\)</span>. Users can set values of <span class="math inline">\(\sigma_{niche,min}\)</span> and <span class="math inline">\(\sigma_{niche,max}\)</span> using
<code>min_niche_width</code> and <code>max_niche_width</code> arguments
(default: <code>min_niche_width = 0.1</code> and
<code>max_niche_width = 1</code>). If a single value or a vector of
<code>sd_niche_width</code> is provided, the function ignores
<code>min_niche_width</code> and <code>max_niche_width</code>
arguments.</p>
<p>The argument <code>niche_cost</code> determines the cost of having
wider niche. Smaller values imply greater costs of wider niche (i.e.,
decreased maximum reproductive rate; default:
<code>niche_cost = 1</code>). To disable (no cost of wide niche), set
<code>niche_cost = Inf</code>.</p>
<p>For other parameters, users may specify species attributes by giving
a scalar (assume identical among species) or a vector of values whose
length must be one or equal to <code>n_species</code>. Default values
are <code>r0 = 4</code>, <code>sd_niche_width = 1</code>, and
<code>p_dispersal = 0.1</code>.</p>
<p>The argument <code>zeta</code> determines the sensitivity to
environmental pollutants as <span class="math inline">\(exp(-\zeta
q)\)</span>, which will be multiplied with the patch-specific population
growth to represent negative impacts of pollutants. <span class="math inline">\(q\)</span> represents the concentration of
hypothetical environmental pollutants (see <code>q</code> in patch
attributes). The parameter <span class="math inline">\(\zeta\)</span>
determines the sensitivity to environmental pollutants, and larger
values indicate greater species sensitivity. No pollutant effect if
<span class="math inline">\(\zeta = 0\)</span>.</p>
</div>
<div class="section level3">
<h3 id="competition">Competition<a class="anchor" aria-label="anchor" href="#competition"></a>
</h3>
<p><strong>Arguments:</strong> <code>interaction_type</code>,
<code>alpha</code> OR <code>min_alpha</code> and
<code>max_alpha</code></p>
<p>The argument <code>interaction_type</code> determines whether
interaction coefficient <code>alpha</code> is a constant or random
variable. If <code>interaction_type = "constant"</code>, then the
interaction coefficients <span class="math inline">\(\alpha_{ij, i \ne
j}\)</span> for any pairs of species will be set as a constant
<code>alpha</code> (i.e., off-diagonal elements of the interaction
matrix). If <code>interaction_type = "random"</code>, <span class="math inline">\(\alpha_{ij, i \ne j}\)</span> will be drawn from a
uniform distribution as <span class="math inline">\(\alpha_{ij, i \ne j}
\sim Unif(\alpha_{min}, \alpha_{max})\)</span> with corresponding
arguments <code>min_alpha</code> and <code>max_alpha</code>. The
argument <code>alpha</code> is ignored under the scenario of random
interaction strength (i.e., <code>interaction_type = "random"</code>).
Note that the diagonal elements of the interaction matrix (<span class="math inline">\(\alpha_{ii}\)</span>) are always 1.0 regardless of
<code>interaction_type</code>, as <code>alpha</code> is the strength of
interspecific competition relative to that of intraspecific competition
(see <strong>Model description</strong>). By default,
<code>interaction_type = "constant"</code> and
<code>alpha = 0</code>.</p>
</div>
<div class="section level3">
<h3 id="patch-attributes">Patch attributes<a class="anchor" aria-label="anchor" href="#patch-attributes"></a>
</h3>
<p><strong>Arguments:</strong> <code>carrying_capacity</code>,
<code>mean_env</code>, <code>sd_env</code>,
<code>spatial_auto_cor</code>, <code>phi</code>, <code>p_disturb</code>,
<code>i_disturb</code> , <code>q</code></p>
<p>The arguments <code>carrying_capacity</code> (default:
<code>carrying_capacity = 100</code>) and <code>mean_env</code>
(default: <code>mean_env = 0</code>) determines mean environmental
values of habitat patches, which can be a scalar (assume identical among
patches) or a vector (length must be equal to <code>n_patch</code>).</p>
<p>The arguments <code>sd_env</code> (default:
<code>sd_env = 0.1</code>), <code>spatial_auto_cor</code> (default:
<code>spatial_auto_cor = FALSE</code>) and <code>phi</code> (default:
<code>phi = 1</code>) determine spatio-temporal dynamics of
environmental values. <code>sd_env</code> determines the magnitude of
temporal environmental fluctuations. If
<code>spatial_auto_cor = TRUE</code>, the function models spatial
autocorrelation of temporal environmental fluctuation based on a
multi-variate normal distribution. The degree of spatial autocorrelation
would be determined by <code>phi</code>, the parameter describing the
strength of distance decay in spatial autocorrelation.</p>
<p>Users can also define disturbance probability
(<code>p_disturb</code>) and mortality (<code>i_disturb</code>). When
disturbance occurs, all habitat patches are reduced by
<code>i_disturb</code>. <code>i_disturb</code> can be identical or
different across habitat patches.</p>
<p>Lastly, the argument <code>q</code> defines concentration of
hypothetical environmental pollutants. The values will be converted as
<span class="math inline">\(exp(-\zeta q)\)</span>, which will be
multiplied with the patch-specific population growth. The parameter
<span class="math inline">\(\zeta\)</span> determines the sensitivity to
environmental pollutants (see argument <code>zeta</code> in species
attributes).</p>
</div>
<div class="section level3">
<h3 id="landscape-structure">Landscape structure<a class="anchor" aria-label="anchor" href="#landscape-structure"></a>
</h3>
<p><strong>Arguments:</strong> <code>xy_coord</code> OR
<code>distance_matrix</code>, <code>landscape_size</code>,
<code>theta</code></p>
<p>These arguments define landscape structure. By default, the function
produces a square-shaped landscape (<code>landscape_size = 10</code> on
a side) in which habitat patches are distributed randomly through a
Poisson point process (i.e., x- and y-coordinates of patches are drawn
from a uniform distribution). The parameter θ describes the shape of
distance decay in species dispersal (see <strong>Model
description</strong>) and determines patches’ structural connectivity
(default: <code>theta = 1</code>). Users can define their landscape by
providing either <code>xy_coord</code> or <code>distance_matrix</code>
(<code>landscape_size</code> will be ignored if either of these
arguments is provided). If <code>xy_coord</code> is provided (2-column
data frame denoting x- and y-coordinates of patches, respectively;
<code>NULL</code> by default), the function calculates the distance
between patches based on coordinates. Alternatively, users may provide
<code>distance_matrix</code> (the object must be <code>matrix</code>),
which describes the distance between habitat patches. The argument
<code>distance_matrix</code> overrides <code>xy_coord</code>.</p>
</div>
<div class="section level3">
<h3 id="others">Others<a class="anchor" aria-label="anchor" href="#others"></a>
</h3>
<p><strong>Arguments:</strong> <code>n_warmup</code>,
<code>n_burnin</code>, <code>n_timestep</code></p>
<p>The argument <code>n_warmup</code> is the period during which species
introductions occur (default: <code>n_warmup = 200</code>). The initial
number of individuals introduced follows a Poisson distribution with a
mean of 0.5 and independent across space and time. This random
introduction events occur multiple times over the <code>n_warmup</code>
period, in which <code>propagule_interval</code> determines the timestep
interval of the random introductions (default:
<code>propagule_interval = ceiling(n_warmup / 10)</code>).</p>
<p>The argument <code>n_burnin</code> is the period that will be
discarded as <em>burn-in</em> to remove the influence of initial values
(default: <code>n_burnin = 200</code>). During the burn-in period,
species introductions do not occur.</p>
<p>The argument <code>n_timestep</code> is the simulation peiord that is
recorded in the return <code>df_dynamics</code> (default:
<code>n_timestep = 1000</code>). As a result, with the default setting,
the function simulates 1400 timesteps (<code>n_warmup</code> +
<code>n_burnin</code> + <code>n_timestep</code> = 1400) but returns only
the last 1000 timesteps as the resulting metacommunity dynamics. All the
derived statistics (e.g., diversity metrics in <code>df_diversity</code>
and <code>df_patch</code>) will be calculated based on the results
during <code>n_timestep</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="model-description">Model description<a class="anchor" aria-label="anchor" href="#model-description"></a>
</h2>
<p>Full model descriptions are available at: <a href="https://doi.org/10.1073/pnas.2105574118" class="external-link uri">https://doi.org/10.1073/pnas.2105574118</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Akira Terui.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
